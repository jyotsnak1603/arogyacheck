{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card shadow">
            <div class="card-header bg-success text-white text-center">
                <h4>ü©∫ Health Questionnaire</h4>
                <small>Answer honestly for accurate results</small>
            </div>
            <div class="card-body">
                <form method="POST">
                    {% csrf_token %}

                    <!-- Health Profile Section (only if first time) -->
                    {% if not profile_exists %}
                    <h5 class="text-success border-bottom pb-2 mb-3">Basic Information</h5>
                    <div class="row mb-3">
                        <div class="col-md-3">
                            <label>Age</label>
                            {{ profile_form.age }}
                        </div>
                        <div class="col-md-3">
                            <label>Gender</label>
                            {{ profile_form.gender }}
                        </div>
                        <div class="col-md-3">
                            <label>Weight (kg)</label>
                            {{ profile_form.weight_kg }}
                        </div>
                        <div class="col-md-3">
                            <label>Height (cm)</label>
                            {{ profile_form.height_cm }}
                        </div>
                    </div>
                    {% endif %}

                    <!-- Lifestyle -->
                    <h5 class="text-success border-bottom pb-2 mb-3">üèÉ Lifestyle</h5>
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label>Physical Activity</label>
                            {{ questionnaire_form.physical_activity }}
                        </div>
                        <div class="col-md-4">
                            <label>Diet Type</label>
                            {{ questionnaire_form.diet_type }}
                        </div>
                        <div class="col-md-4">
                            <label>Sleep Hours/Night</label>
                            {{ questionnaire_form.sleep_hours }}
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-check">
                                {{ questionnaire_form.smoking }}
                                <label class="form-check-label">Do you smoke?</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check">
                                {{ questionnaire_form.alcohol }}
                                <label class="form-check-label">Do you consume alcohol?</label>
                            </div>
                        </div>
                    </div>

                    <!-- Symptoms -->
                    <h5 class="text-success border-bottom pb-2 mb-3">ü§í Symptoms</h5>
                    <p class="text-muted small">Check all that apply to you:</p>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                {{ questionnaire_form.frequent_thirst }}
                                <label class="form-check-label">Frequent Thirst</label>
                            </div>
                            <div class="form-check mb-2">
                                {{ questionnaire_form.frequent_urination }}
                                <label class="form-check-label">Frequent Urination</label>
                            </div>
                            <div class="form-check mb-2">
                                {{ questionnaire_form.fatigue }}
                                <label class="form-check-label">Fatigue / Tiredness</label>
                            </div>
                            <div class="form-check mb-2">
                                {{ questionnaire_form.blurred_vision }}
                                <label class="form-check-label">Blurred Vision</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                {{ questionnaire_form.chest_pain }}
                                <label class="form-check-label">Chest Pain</label>
                            </div>
                            <div class="form-check mb-2">
                                {{ questionnaire_form.shortness_of_breath }}
                                <label class="form-check-label">Shortness of Breath</label>
                            </div>
                            <div class="form-check mb-2">
                                {{ questionnaire_form.numbness_in_feet }}
                                <label class="form-check-label">Numbness in Feet</label>
                            </div>
                        </div>
                    </div>

                    <!-- Family History -->
                    <h5 class="text-success border-bottom pb-2 mb-3">üë®‚Äçüë©‚Äçüëß Family History</h5>
                    <p class="text-muted small">Does anyone in your immediate family have:</p>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                {{ questionnaire_form.family_diabetes }}
                                <label class="form-check-label">Diabetes</label>
                            </div>
                            <div class="form-check mb-2">
                                {{ questionnaire_form.family_hypertension }}
                                <label class="form-check-label">Hypertension</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                {{ questionnaire_form.family_heart_disease }}
                                <label class="form-check-label">Heart Disease</label>
                            </div>
                            <div class="form-check mb-2">
                                {{ questionnaire_form.family_kidney_disease }}
                                <label class="form-check-label">Kidney Disease</label>
                            </div>
                        </div>
                    </div>

                    <!-- Existing Conditions -->
                    <h5 class="text-success border-bottom pb-2 mb-3">üíä Existing Conditions</h5>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                {{ questionnaire_form.already_diabetic }}
                                <label class="form-check-label">Already diagnosed with Diabetes</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                {{ questionnaire_form.already_hypertensive }}
                                <label class="form-check-label">Already diagnosed with Hypertension</label>
                            </div>
                        </div>
                    </div>

                    <div class="d-grid mt-4">
                        <button type="submit" class="btn btn-success btn-lg">
                            Submit & Get My Risk Report
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}